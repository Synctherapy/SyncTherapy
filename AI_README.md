# Project Source of Truth: Sync Therapy Next.js

**Last Updated:** 2026-02-11
**Framework:** Next.js 15+ (App Router)
**Styling:** Tailwind CSS + Shadcn UI
**Content Source:** Markdown files in `content/pages` and `content/posts`.

## 1. Business Information (Source of Truth)
**Name:** Sync Therapy
**Address:** 132, 328 Wale Rd #120, Colwood, BC V9B 1J2
**Phone:** (250) 812-8698
**Coordinates:** 48.434257, -123.465904
**Google CID:** *[To be added by User]*
**Socials:**
- https://www.facebook.com/synctherapy/
- https://www.instagram.com/synctherapy/

## 2. Core Architecture
- **Routing:** File-system based router in `app/`.
- **Dynamic Routes:** `app/[...slug]/page.tsx` handles almost all content pages (Services, Blog Posts, Conditions).
- **Layouts:**
    - `HomeLayout.tsx`: Homepage specific.
    - `ServiceLayout.tsx`: For standard service pages (Massage, Athletic Therapy).
    - `BlogOneLayout.tsx`: For individual blog posts.
    - `ServicesIndexLayout.tsx`: For the main `/services` landing page.

## 2. SEO Strategy (DO NOT HALLUCINATE)
- **Metadata:** Generated dynamically in `[...slug]/page.tsx` using `generateMetadata` reading from Markdown frontmatter.
- **Schema:** 
    - `MedicalBusiness` schema is injected globally in `app/layout.tsx`.
    - `Article` schema is injected dynamically in `[...slug]/page.tsx` for posts.
- **Sitemap:** generated by `app/sitemap.ts`.
- **Redirects:** Managed via `next.config.ts` reading `redirects.json` + `middleware.ts` (for 410 Gone).

## 3. Critical Rules for AI Agents
1.  **Do NOT edit content text in React components.** Always check `content/` markdown files first.
2.  **Do NOT remove `dangerouslySetInnerHTML`** in `page.tsx`. This renders the markdown content.
3.  **Do NOT remove structrued data scripts** (`application/ld+json`) from layouts.
4.  **Images:** Use `next/image` where possible, but content images are often embedded HTML in markdown.

## 4. Key File Locations
- **Global Layout:** `app/layout.tsx`
- **Global CSS:** `app/globals.css`
- **Redirects:** `redirects.json`
- **Legacy 410s:** `gone.json`
